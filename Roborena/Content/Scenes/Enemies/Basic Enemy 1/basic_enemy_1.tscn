[gd_scene load_steps=23 format=3 uid="uid://2qbfyon6af3o"]

[ext_resource type="Script" path="res://Content/Scenes/Enemies/Class/enemy_class.gd" id="1_n8tu3"]
[ext_resource type="Shader" path="res://Content/Scenes/Components/Shaders/hit_flash_shader.gdshader" id="1_t42r2"]
[ext_resource type="PackedScene" uid="uid://buofssg8pcaca" path="res://Content/Scenes/Components/Hurtboxes/hurtbox.tscn" id="14_nw7hq"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_c1k2n"]
resource_local_to_scene = true
shader = ExtResource("1_t42r2")
shader_parameter/flash_color = Color(1, 1, 1, 1)
shader_parameter/flash_value = 0.0

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_ys5c4"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_000.png-686124eae66a6b7b6e50b34a956765f6.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_cjgfi"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_001.png-59b03be2154d778e1808336bd19d9ee0.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_8whqi"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_002.png-61e3a744701178aea837277d4fed67e1.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_f2o7m"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_003.png-d42003cb5b8e783e8bf1c49b756353fc.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_lb33d"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_004.png-bdf970ee2fd36d4657e21f3834d91a7e.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_exq31"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_005.png-45d2c6fec03e8d3f934652ca0c8abbc4.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_wp3uq"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_006.png-63f6965d64a671f0a8f7c5cd065404ed.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_tjmvu"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_007.png-131eb2c5913fa491e4c3eeb5179543ed.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_fktve"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_008.png-50b21c8a4109eb95686ce2fd9dc9c0b9.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_tx7na"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_009.png-70573c75df539d4dc39e5a073a2ef823.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_fab7t"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_010.png-24627dbaf6928a2afe46dfcc1246a0e1.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_85ij3"]
load_path = "res://.godot/imported/0_Zombie_Villager_Running_011.png-d3d5594302593b89f140dcbfd2383846.ctex"

[sub_resource type="SpriteFrames" id="SpriteFrames_stdbq"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_ys5c4")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_cjgfi")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_8whqi")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_f2o7m")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_lb33d")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_exq31")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_wp3uq")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_tjmvu")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_fktve")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_tx7na")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_fab7t")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_85ij3")
}],
"loop": true,
"name": &"Running",
"speed": 18.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_5dpew"]
radius = 90.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_1xuob"]
radius = 128.0
height = 522.0

[sub_resource type="Animation" id="Animation_ogjta"]
length = 0.2
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:material:shader_parameter/flash_value")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.02),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, null]
}

[sub_resource type="Animation" id="Animation_fsewp"]
resource_name = "hit_flash"
length = 0.15
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:material:shader_parameter/flash_value")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.05, 0.15),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [1.0, 1.0, 0.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_d3wem"]
_data = {
"RESET": SubResource("Animation_ogjta"),
"hit_flash": SubResource("Animation_fsewp")
}

[node name="BasicEnemy1" type="CharacterBody2D" node_paths=PackedStringArray("hurtbox", "animator")]
scale = Vector2(0.19, 0.19)
collision_layer = 2
collision_mask = 130
motion_mode = 1
script = ExtResource("1_n8tu3")
enemy_id = "BasicEnemy1"
health = 40
movement_speed = 15000
hurtbox = NodePath("Hurtbox")
animator = NodePath("AnimationPlayer")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
material = SubResource("ShaderMaterial_c1k2n")
sprite_frames = SubResource("SpriteFrames_stdbq")
animation = &"Running"
autoplay = "Running"
frame_progress = 0.900496

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 210)
shape = SubResource("CircleShape2D_5dpew")

[node name="Hurtbox" parent="." instance=ExtResource("14_nw7hq")]
collision_layer = 8
collision_mask = 16

[node name="CollisionShape2D" parent="Hurtbox" index="0"]
position = Vector2(0, 35)
shape = SubResource("CapsuleShape2D_1xuob")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_d3wem")
}

[node name="KnockBackTimer" type="Timer" parent="."]
wait_time = 0.2
one_shot = true

[connection signal="timeout" from="KnockBackTimer" to="." method="_on_knock_back_timer_timeout"]

[editable path="Hurtbox"]
